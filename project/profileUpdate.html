<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sleep Station</title>
    <!--Bootstrap css file-->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <!-- animate on scroll library -->
    <link href="./css/animate.min.css" rel="stylesheet">
    <!-- Font AweSome -->
    <script src="https://kit.fontawesome.com/49f02d4a75.js" crossorigin="anonymous"></script>
    <!-- File Css Main -->
    <link rel="stylesheet" href="./css/main.css" />
    <!-- File Css Home -->
    <link rel="stylesheet" href="./css/profileUser.css">
    <!-- File Css Header -->
    <link rel="stylesheet" href="./css/header.css">
    <!-- File Css Footer -->
    <link rel="stylesheet" href="./css/footer.css">
</head>

<body>
    <!-- Start Header -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary position-sticky">
        <div class="container">
            <div class="logo">
                <a href="./index.html">
                    <img src="./images/logo/logo.png" alt="">
                </a>
            </div>
            <div class="btn-group mb-3 smallNone" role="group">
                <button type="button" class="language dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="./images/language-icon/united-states-of-america.png"> EN
                </button>
                <ul class="dropdown-menu">
                    <li class="arabic"><a href="./homeArabic.html"><img src="./images/language-icon/egypt.png">
                            AR</a> </li>
                    <li> <a href="./index.html"><img src="./images/language-icon/united-states-of-america.png">
                            EN</a> </li>
                </ul>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                <ul class="navbar-nav mb-2 mb-lg-0 ">
                    <li class="nav-item">
                        <a class="nav-link " aria-current="page" href="./products.html">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./contact.html">Contact Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="./profileUser.html">My Account</a>
                    </li>
                </ul>
                <div class="btn-group mb-3 bigNone" role="group">
                    <button type="button" class="language dropdown-toggle" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <img src="./images/language-icon/united-states-of-america.png"> EN
                    </button>
                    <ul class="dropdown-menu">
                        <li class="arabic"><a href="./homeArabic.html"><img src="./images/language-icon/egypt.png">
                                AR</a> </li>
                        <li> <a href="./index.html"><img src="./images/language-icon/united-states-of-america.png">
                                EN</a> </li>
                    </ul>
                </div>
                <div class="icon" id="cartIcon" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button"
                    aria-controls="offcanvasExample">
                    <span class="count" id="count">0</span>
                    <i class="fa-solid fa-cart-plus"></i>
                </div>
            </div>
        </div>
    </nav>
    <!-- End Header -->
    <!-- Start Profile -->
    <div class="profile wow animate__fadeIn" data-wow-duration="2s">
        <div class="container">
            <div class="title pt-5">
                My Account
            </div>
            <div class="bodyProfile pt-3 pb-5">
                <div class="row">
                    <div class="col-lg-4">
                        <ul>
                            <li><a href="profileUser.html">Account Info</a></li>
                            <li><a href="profileOrder.html">My Orders</a></li>
                            <li><a class="active" href="profileUpdate.html">Update Data</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-8">
                        <div class="accountInfo">
                            <form action="">
                                <div class="row g-3 align-items-center  mb-2">
                                    <div class="col-2">
                                        <label for="name" class="col-form-label">Name</label>
                                    </div>
                                    <div class="col-10">
                                        <input type="text" id="name" class="form-control"
                                            aria-describedby="passwordHelpInline" value="">
                                    </div>
                                </div>
                                <div class="row g-3 align-items-center mb-2">
                                    <div class="col-2">
                                        <label for="email" class="col-form-label">Email</label>
                                    </div>
                                    <div class="col-10">
                                        <input type="text" id="email" class="form-control"
                                            aria-describedby="passwordHelpInline" value="" readonly>
                                    </div>
                                </div>
                                <div class="row g-3 align-items-center mb-2">
                                    <div class="col-2">
                                        <label for="location" class="col-form-label">Location</label>
                                    </div>
                                    <div class="col-10">
                                        <input type="text" id="location" class="form-control"
                                            aria-describedby="passwordHelpInline" value="">
                                    </div>
                                </div>
                                <div class="row g-3 align-items-center mb-2">
                                    <div class="col-2">
                                        <label for="phone" class="col-form-label">Phone</label>
                                    </div>
                                    <div class="col-10">
                                        <input type="text" id="phone" class="form-control"
                                            aria-describedby="passwordHelpInline" value="">
                                    </div>
                                </div>
                                <button id="updateData" class="updateData">Update Data</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Profile -->
    <!-- Button Scroll UP And Button Whatts App -->
    <button class="btn btn-primary rounded-pill scroll" id="buttonScroll"><i class="fa-solid
        fa-angles-up"></i></button>
    <a class="whatts" href="https://wa.me/+2001017159471"><i class="fa-brands fa-whatsapp"></i></a>
    <!-- Button Scroll UP And Button Whatts App -->
    <!-- Start Footer -->
    <footer class="pb-5">
        <div class="part position-relative">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-6 p-sm-3">
                        <div class="part-1 mt-5">
                            <a href="./products.html"><img src="./images/logo/logo.png" alt=""></a>
                            <p class="text-white-50 pe-1 mt-3">Sleep Station Is One Shop Where You Can Find The Best Bed
                                Linen, Bedding, Mattress, Towels, Bean Bags & More.....</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 p-sm-3">
                        <div class="part-2 mt-5">
                            <h3>Address</h3>
                            <ul class="mt-4">
                                <li class="phone">
                                    <a href="https://wa.me/+2001017159471">
                                        +20 01017159471
                                    </a>
                                </li>
                                <li class="email">
                                    <a href="mailto:Sales@Sleepstation-Eg.Com?subject=&body=">
                                        Sales@Sleepstation-Eg.Com
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 p-sm-3">
                        <div class="part-3 mt-5">
                            <h3>Quick Links</h3>
                            <ul class="pt-3">
                                <li><a href="./products.html">Products</a></li>
                                <li><a href="./contact.html">Contact Us</a></li>
                                <li><a href="./profileUser.html">My Account</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 p-sm-3">
                        <div class="part-4 mt-5">
                            <h3>Call us</h3>
                            <p class="text-white-50 pe-5">Contact us via e-mail or phone, we are waiting for your call
                                or message</p>
                            <div class="email-call mt-2 mb-2">
                                <a href="mailto:Sales@Sleepstation-Eg.Com?subject=&body=">
                                    Sales@Sleepstation-Eg.Com
                                </a>
                            </div>
                            <div class="icons d-flex justify-content-start mt-4">
                                <div class="icon facebook">
                                    <a href="https://www.facebook.com/officialsleepstation?mibextid=ZbWKwL"><i
                                            class="fa-brands fa-facebook-f"></i></a>
                                </div>
                                <div class="icon instagram">
                                    <a href="https://instagram.com/officialsleepstation?igshid=YmMyMTA2M2Y="><i
                                            class="fa-brands fa-instagram"></i></i></a>
                                </div>
                                <div class="icon twitter">
                                    <a href=""><i class="fa-brands fa-twitter"></i></a>
                                </div>
                                <div class="icon linkedin">
                                    <a href=""><i class="fa-brands fa-linkedin-in"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->
    <!-- File Js Bootstrap -->
    <script src="./js/bootstrap.bundle.min.js"></script>
    <!-- File Js Wow -->
    <script src="./js/wow.min.js"></script>
    <script>
        new WOW().init();
        let nameInput = document.getElementById("name");
        let emailInput = document.getElementById("email");
        let locationInput = document.getElementById("location");
        let phoneInput = document.getElementById("phone");


        let dataUser = JSON.parse(localStorage.getItem("userData"));
        nameInput.value = dataUser.name;
        emailInput.value = dataUser.email;
        locationInput.value = dataUser.location;
        phoneInput.value = dataUser.phone;
        document.getElementById("updateData").addEventListener("click", (event) => {
            event.preventDefault()
            const formData = new FormData();
            formData.append('token', dataUser.token);
            formData.append('name', nameInput.value);
            formData.append('phone', phoneInput.value)
            formData.append('address', locationInput.value)
            fetch('http://127.0.0.1:8000/api/user/update', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${dataUser.token}`
                },
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 201) {
                        localStorage.setItem("userData", JSON.stringify(data.data));
                        window.location.reload();
                    }
                })
                .catch(error => {
                    console.log(error);
                });
        })


    </script>
</body>

</html>